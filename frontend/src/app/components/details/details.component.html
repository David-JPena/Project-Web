<!-- details.component.html -->

<!-- <div *ngIf="idServicio; else noServiceDetails">
  <h2>Detalles del Servicio {{ idServicio }}</h2>

  <div *ngFor="let service of services">
    <img [src]="getImageUrl(service.image)" />
    <p>{{ service.name }}</p>
    <p>Ingredientes:</p>
    <ul>
      <li *ngFor="let ingredient of service.ingredients; let i = index">
        {{ ingredient.trim() }}
      </li>
    </ul>

    <p>Pasos:</p>
    <ol>
      <li *ngFor="let step of service.steps; let i = index">
        {{ step.trim() }}
      </li>
    </ol>

    <p>Categorias: {{ service.categories }}</p>
    <p>{{ service.description }}</p>
  </div>

  <h3>Comentarios</h3>

  Formulario para agregar comentario
  <form (ngSubmit)="agregarComentario()" #commentForm="ngForm">
    <label for="nombreUsuario">Nombre de Usuario:</label>
    <input
      type="text"
      id="nombreUsuario"
      name="user"
      [(ngModel)]="nuevoComentario.user"
      required
    />

    <label for="textoComentario">Comentario:</label>
    <textarea
      id="textoComentario"
      name="text"
      [(ngModel)]="nuevoComentario.text"
      required
    ></textarea>

    <button type="submit" [disabled]="!commentForm.valid">
      Agregar Comentario
    </button>
  </form>

  Lista de comentarios
  <ul>
    <li *ngFor="let comentario of comentarios">
      <p>
        <strong>{{ comentario.user }}</strong
        >: {{ comentario.text }}
      </p>
    </li>
  </ul>

  <h4>{{ likes }} Me gusta</h4>
  <button (click)="darMeGusta()">Me Gusta</button>
</div> -->

<ng-template #noServiceDetails>
  <p>No se ha seleccionado ningún servicio.</p>
</ng-template>

<!DOCTYPE html>
<html>
  <head> </head>

  <body *ngIf="idServicio; else noServiceDetails">
    <div *ngFor="let service of services">
      <div
        class="b pt-5"
        style="box-shadow: 0px 10px 15px -5px rgba(0, 0, 0, 0.2)"
      >
        <div class="container ms-12">
          <div class="row">
            <div class="col-md-8 p-0">
              <div class="card mb-4 p-2">
                <img
                  [src]="getImageUrl(service.image)"
                  class="card-img-top"
                  alt="Imagen de la tarjeta 1"
                  style="
                    width: 100%;
                    max-height: 350px;
                    image-rendering: pixelated;
                  "
                />
                <h2>{{ service.name }}</h2>
                <div class="col-md-12">
                  <div class="mb-4 pt-3">
                    <div class="row ms-5">
                      <div class="col-md-2">
                        <img
                          src="assets/images/usuario.jpg"
                          alt="Foto de perfil"
                          class="rounded-circle"
                          style="width: 60px; height: 60px"
                        />
                      </div>
                      <div class="col-md-10 perfil">
                        <h6>Juan Perez</h6>
                        <p>Perú</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-12">
                  <hr class="mb-4" style="border-color: gray" />
                  <div class="text-center mt-3">
                    <i class="bi bi-hand-thumbs-up me-3"></i>
                    <!-- Icono de "Me gusta" -->
                    <i class="bi bi-heart me-3"></i>
                    <!-- Icono de "Me encanta" -->
                    <i class="bi bi-chat-dots me-3"></i>
                    <!-- Icono de chat -->
                    <button class="btn btn-success">Seguir</button>
                    <!-- Botón para seguir -->
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <h5 class="text-primary">Cometarios:</h5>
              <div class="card mb-4 p-1" style="width: 300px">
                <ul>
                  <li *ngFor="let comentario of comentarios">
                    <p><strong>{{ comentario.user }}</strong>: {{ comentario.text }}</p>
                  </li>
                </ul>
              </div>
            </div>
            
          </div>
        </div>
      </div>
      <div class="container mt-4">
        <div class="row">
          <div class="col-md-12">
            <div class="card mb-4">
              <div class="card-body">
                <h2 class="card-title">Descripción de la Receta</h2>
                <p>{{ service.description }}</p>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card mb-4">
              <div class="card-body">
                <h2 class="card-title">Ingredientes</h2>
                <ul class="list-unstyled">
                  <li *ngFor="let ingredient of service.ingredients; let i = index">
                    {{ i + 1 }}. {{ ingredient.trim() }}
                    <hr style="border-top: 1px dotted gray" />
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card mb-4">
              <div class="card-body">
                <h2 class="card-title">Pasos</h2>
                <ol class="list-unstyled">
                  <li *ngFor="let step of service.steps; let i = index">
                    <div class="row mb-2">
                      <div class="col-1">
                        <div class="circle blue-bg">{{ i + 1 }}</div>
                      </div>
                      <div class="col">
                        <span>{{ step.trim() }}</span>
                      </div>
                    </div>
                  </li>
                </ol>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="card mb-4">
              <div class="card-body">
                <h2 class="card-title">Comentarios</h2>
                <!-- Formulario para agregar comentario -->
                <form (ngSubmit)="agregarComentario()" #commentForm="ngForm">
                  <div class="form-group">
                    <label for="nombreUsuario">Nombre de Usuario:</label>
                    <input type="text" class="form-control" id="nombreUsuario" name="user" [(ngModel)]="nuevoComentario.user" required>
                  </div>
          
                  <div class="form-group">
                    <label for="textoComentario">Comentario:</label>
                    <textarea class="form-control" id="textoComentario" name="text" [(ngModel)]="nuevoComentario.text" required></textarea>
                  </div>
          
                  <button type="submit" class="btn btn-secondary" [disabled]="!commentForm.valid">Agregar Comentario</button>
                </form>
          
                <!-- Lista de comentarios -->
                
              </div>
            </div>
          </div>
          
          <ng-template #noServiceDetails>
            <p>No se ha seleccionado ningún servicio.</p>
          </ng-template>
          
        </div>
      </div>
    </div>
  </body>
</html>
